# 交互与记录

1. 每个项目在开始的时候，帮我在项目目录下创建一个 doc\interaction_record.md的文档，每次交互记录下以下信息
   
    1.1. 当前时间
   
    1.2. 我的原始需求
   
    1.3. cursor理解、拆分、结构化后的我的需求
   
    1.4. cursor本次交互后的操作概述
   
2. 在交互过程中，请理解、拆分、结构化我的本次需求后，与我二次确定，并告知我准备做什么样的修改；若存在多种修改方式，可给我推荐；


# 文档

根据用户需求、设计、实现，在项目目录 doc\ 下生成一份 需求文档，设计文档，用户手册(部署和运行);

以上文档在每次交互之后，若有需要更新，都进行更新；

# 开发

3. 在实现功能时，请做好架构设计
   
    3.1. 具备独立能力，可复用能力的部分，请形成独立的模块，谨慎设计其出入口API
   
    3.2. 尽量不要用魔法数字，涉及到物理意义、反复用到的数字，请定义常量和变量；若该数字可能在运行和调试中有修改的可能，将其定义到模块的最上方；
   
    3.3. 区分参数应该属于哪个模块，尽可能不要让参数扩散到没有意义的地方；
   
    3.4. 共用的代码，尽可能做封装；
   
    3.5. 代码的调用层次不要太深，每一层封装都存在其意义，不要做无谓的封装；
   
    3.6. 在没有特别交代的情况下，不要考虑代码的前后兼容，老代码不需要保留；
   

4. 在代码编写时，请注意一下小细节
   
    4.1. 给每个模块、类、方法编写详尽的代码注释
   
    4.2. 在main中不要实现通过命令行控制的代码，以修改函数输入参数的方式

5. 日志和过程文件
   
    5.1. 在需要长时间运行的代码中，帮我在项目中实现日志模块；在最底层的API之外构建日志系统；
   
    5.2. 在需要长时间运行并生成文件的代码中，在过程中增量式地生成文件，避免程序退出后数据丢失；
   
    5.3. 数据相关的过程文件，尽可能使用pandas_csv，json，db等相对相准话的数据格式；
   
    5.4. 代码中涉及到文件名时，一定要将其定义成参数或变量；
   
    5.5. 代码中涉及到输入文件与输出文件有对应关系时，输出文件的名字尽可能由输入文件导出；
   
    5.6. 涉及到多次运行的代码需要输出文件，尽可能在文件上打上时间标签；

# 需求合并

6. 在上下文顺序的对某一个目标进行层层推进时，请主动提出帮我做需求合并
   
    6.1. 如我先让cursor帮我实现模块，将A目录下的数据做整合输出B；然后又让cursor实现模块将B中的数据处理成C，应主动提出，是否需要直接实现将A转换成C的模块与我二次确认；

